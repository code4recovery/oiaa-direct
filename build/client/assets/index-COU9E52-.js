var Sn=t=>t?"":void 0,ar=2147483647,An=1,Tn=9,Cn=11,$t=t=>typeof t=="object"&&t!==null,Vt=t=>$t(t)&&t.nodeType===An&&typeof t.nodeName=="string",je=t=>$t(t)&&t.nodeType===Tn,Rn=t=>$t(t)&&t===t.window,We=t=>Vt(t)?t.localName||"":"#document";function Ln(t){return["html","body","#document"].includes(We(t))}var Mn=t=>$t(t)&&t.nodeType!==void 0,Zt=t=>Mn(t)&&t.nodeType===Cn&&"host"in t;function pt(t){return je(t)?t:Rn(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function Dn(t){return pt(t).documentElement}function U(t){var e;return Zt(t)?U(t.host):je(t)?t.defaultView??window:Vt(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function Nn(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}var Be=()=>typeof document<"u";function kn(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}var ze=t=>Be()&&t.test(kn()),_n=t=>Be()&&t.test(navigator.vendor),In=()=>ze(/^Mac/),lr=()=>$n()&&_n(/apple/i),$n=()=>ze(/mac|iphone|ipad|ipod/i);function Vn(t){var e,n,i;return((e=t.composedPath)==null?void 0:e.call(t))??((i=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:i.call(n))}function He(t){const e=Vn(t);return(e==null?void 0:e[0])??t.target}function Fn(t){var e;return((e=t.nativeEvent)==null?void 0:e.isComposing)??t.isComposing}var ae=t=>t.id;function jn(t,e,n=ae){return t.find(i=>n(i)===e)}function le(t,e,n=ae){const i=jn(t,e,n);return i?t.indexOf(i):-1}function fr(t,e,n=!0){let i=le(t,e);return i=n?(i+1)%t.length:Math.min(i+1,t.length-1),t[i]}function ur(t,e,n=!0){let i=le(t,e);return i===-1?n?t[t.length-1]:null:(i=n?(i-1+t.length)%t.length:Math.max(0,i-1),t[i])}var Wn=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),Bn=t=>{var e;return Wn(((e=t.dataset)==null?void 0:e.valuetext)??t.textContent??"")},zn=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase()),Hn=(t,e)=>t.map((n,i)=>t[(Math.max(e,0)+i)%t.length]);function Yn(t,e,n,i=ae){const o=n?le(t,n,i):-1;let c=n?Hn(t,o):t;return e.length===1&&(c=c.filter(r=>i(r)!==n)),c.find(r=>zn(Bn(r),e))}function Kn(t,e){const{state:n,activeId:i,key:o,timeout:c=350,itemToId:l}=e,r=n.keysSoFar+o,s=r.length>1&&Array.from(r).every(p=>p===r[0])?r[0]:r;let f=t.slice();const u=Yn(f,s,i,l);function d(){clearTimeout(n.timer),n.timer=-1}function h(p){n.keysSoFar=p,d(),p!==""&&(n.timer=+setTimeout(()=>{h(""),d()},c))}return h(r),u}var dr=Object.assign(Kn,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Gn});function Gn(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}function qn(t){if(We(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zt(t)&&t.host||Dn(t);return Zt(e)?e.host:e}var fe=t=>typeof t=="object"&&t!==null&&t.nodeType===1,Un=t=>fe(t)&&t.tagName==="IFRAME";function Xn(t){return fe(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1}var Ye="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",Zn=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(Ye));(e==!0||e=="if-empty"&&n.length===0)&&fe(t)&&Ee(t)&&n.unshift(t);const o=n.filter(Ee);return o.forEach((c,l)=>{if(Un(c)&&c.contentDocument){const r=c.contentDocument.body;o.splice(l,1,...Zn(r))}}),o};function Ee(t){return!t||t.closest("[inert]")?!1:t.matches(Ye)&&Xn(t)}var Jn=/auto|scroll|overlay|hidden|clip/;function Ke(t){const e=U(t),{overflow:n,overflowX:i,overflowY:o,display:c}=e.getComputedStyle(t);return Jn.test(n+o+i)&&!["inline","contents"].includes(c)}function Qn(t){const e=globalThis.requestAnimationFrame(t);return()=>{globalThis.cancelAnimationFrame(e)}}function Ge(t){const e=qn(t);return Ln(e)?pt(e).body:Vt(e)&&Ke(e)?e:Ge(e)}function qe(t,e=[]){const n=Ge(t),i=n===t.ownerDocument.body,o=U(n);return i?e.concat(o,o.visualViewport||[],Ke(n)?n:[]):e.concat(n,qe(n,[]))}function hr(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function pr(t,e){return(t==null?void 0:t.querySelector(e))??null}function ti(t){const e={getRootNode:n=>{var i;return((i=n.getRootNode)==null?void 0:i.call(n))??document},getDoc:n=>pt(e.getRootNode(n)),getWin:n=>e.getDoc(n).defaultView??window,getActiveElement:n=>Nn(e.getRootNode(n)),isActiveElement:(n,i)=>i===e.getActiveElement(n),getById:(n,i)=>e.getRootNode(n).getElementById(i),setValue:(n,i)=>{if(n==null||i==null)return;const o=i.toString();n.value!==o&&(n.value=i.toString())}};return{...e,...t}}var Tt=(t,e=[])=>({parts:(...n)=>{if(ei(e))return Tt(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Tt(t,[...e,...n]),rename:n=>Tt(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,i)=>Object.assign(n,{[i]:{selector:[`&[data-scope="${at(t)}"][data-part="${at(i)}"]`,`& [data-scope="${at(t)}"][data-part="${at(i)}"]`].join(", "),attrs:{"data-scope":at(t),"data-part":at(i)}}}),{})}),at=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),ei=t=>t.length===0,Ht=(t,e,n,i)=>{const o=typeof t=="function"?t():t;return o==null||o.addEventListener(e,n,i),()=>{o==null||o.removeEventListener(e,n,i)}};function Oe(t){return Math.max(0,Math.min(1,t))}function gr(t,e){const{left:n,top:i,width:o,height:c}=e.getBoundingClientRect(),l={x:t.x-n,y:t.y-i},r={x:Oe(l.x/o),y:Oe(l.y/c)};function a(s={}){const{dir:f="ltr",orientation:u="horizontal",inverted:d}=s,h=typeof d=="object"?d.x:d,p=typeof d=="object"?d.y:d;return u==="horizontal"?f==="rtl"||h?1-r.x:r.x:p?1-r.y:r.y}return{offset:l,percent:r,getPercentValue:a}}var mr=t=>t[0],yr=t=>t[t.length-1];function ni(t){for(;t.length>0;)t.pop();return t}var Jt=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,q=t=>t,Ue=()=>{},ii=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},be=(()=>{let t=0;return()=>(t++,t.toString(36))})(),Mt=t=>Array.isArray(t),Xe=t=>t!=null&&typeof t=="object",Ct=t=>Xe(t)&&!Mt(t),oi=t=>typeof t=="number"&&!Number.isNaN(t),k=t=>typeof t=="string",Dt=t=>typeof t=="function",ri=t=>t==null,Ze=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),si=t=>Object.prototype.toString.call(t),Je=Function.prototype.toString,ci=Je.call(Object),ai=t=>{if(!Xe(t)||si(t)!="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Ze(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Je.call(n)==ci};function dt(t){if(!li(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(i=>typeof i=="string"),n={};for(const i of e){const o=t[i];o!==void 0&&(n[i]=dt(o))}return n}var li=t=>t&&typeof t=="object"&&t.constructor===Object;function Yt(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function Rt(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}const fi=Symbol(),ue=Symbol(),Et="a",Qe="f",xe="p",tn="c",en="t",Kt="n",Gt="g",nn="h",Lt="w",on="o",rn="k";let ui=(t,e)=>new Proxy(t,e);const Qt=Object.getPrototypeOf,te=new WeakMap,sn=t=>t&&(te.has(t)?te.get(t):Qt(t)===Object.prototype||Qt(t)===Array.prototype),Pe=t=>typeof t=="object"&&t!==null,di=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable),hi=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(Qt(t),e)},pi=(t,e)=>{const n={[Qe]:e};let i=!1;const o=(r,a)=>{if(!i){let s=n[Et].get(t);if(s||(s={},n[Et].set(t,s)),r===Lt)s[Lt]=!0;else{let f=s[r];f||(f=new Set,s[r]=f),f.add(a)}}},c=()=>{i=!0,n[Et].delete(t)},l={get(r,a){return a===ue?t:(o(rn,a),gi(Reflect.get(r,a),n[Et],n[tn],n[en]))},has(r,a){return a===fi?(c(),!0):(o(nn,a),Reflect.has(r,a))},getOwnPropertyDescriptor(r,a){return o(on,a),Reflect.getOwnPropertyDescriptor(r,a)},ownKeys(r){return o(Lt),Reflect.ownKeys(r)}};return e&&(l.set=l.deleteProperty=()=>!1),[l,n]},cn=t=>t[ue]||t,gi=(t,e,n,i)=>{if(!sn(t))return t;let o=i&&i.get(t);if(!o){const a=cn(t);di(a)?o=[a,hi(a)]:o=[a],i==null||i.set(t,o)}const[c,l]=o;let r=n&&n.get(c);return(!r||r[1][Qe]!==!!l)&&(r=pi(c,!!l),r[1][xe]=ui(l||c,r[0]),n&&n.set(c,r)),r[1][Et]=e,r[1][tn]=n,r[1][en]=i,r[1][xe]},mi=(t,e)=>{const n=Reflect.ownKeys(t),i=Reflect.ownKeys(e);return n.length!==i.length||n.some((o,c)=>o!==i[c])},yi=(t,e,n,i,o=Object.is)=>{if(o(t,e))return!1;if(!Pe(t)||!Pe(e))return!0;const c=n.get(cn(t));if(!c)return!0;if(i){const r=i.get(t);if(r&&r[Kt]===e)return r[Gt];i.set(t,{[Kt]:e,[Gt]:!1})}let l=null;try{for(const r of c[nn]||[])if(l=Reflect.has(t,r)!==Reflect.has(e,r),l)return l;if(c[Lt]===!0){if(l=mi(t,e),l)return l}else for(const r of c[on]||[]){const a=!!Reflect.getOwnPropertyDescriptor(t,r),s=!!Reflect.getOwnPropertyDescriptor(e,r);if(l=a!==s,l)return l}for(const r of c[rn]||[])if(l=yi(t[r],e[r],n,i,o),l)return l;return l===null&&(l=!0),l}finally{i&&i.set(t,{[Kt]:e,[Gt]:l})}},vi=t=>sn(t)&&t[ue]||null,Se=(t,e=!0)=>{te.set(t,e)};function wi(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function an(t,e){const n=wi();return n?(n[t]||(n[t]=e()),n[t]):e()}var qt=t=>typeof t=="object"&&t!==null,ot=an("__zag__proxyStateMap",()=>new WeakMap),Ot=an("__zag__refSet",()=>new WeakSet),Ei=t=>typeof t=="object"&&t!==null&&"$$typeof"in t,Oi=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,bi=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",xi=t=>Ei(t)||Oi(t)||bi(t),Pi=(t=Object.is,e=(s,f)=>new Proxy(s,f),n=s=>qt(s)&&!Ot.has(s)&&(Array.isArray(s)||!(Symbol.iterator in s))&&!xi(s)&&!(s instanceof WeakMap)&&!(s instanceof WeakSet)&&!(s instanceof Error)&&!(s instanceof Number)&&!(s instanceof Date)&&!(s instanceof String)&&!(s instanceof RegExp)&&!(s instanceof ArrayBuffer),i=s=>{switch(s.status){case"fulfilled":return s.value;case"rejected":throw s.reason;default:throw s}},o=new WeakMap,c=(s,f,u=i)=>{const d=o.get(s);if((d==null?void 0:d[0])===f)return d[1];const h=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s));return Se(h,!0),o.set(s,[f,h]),Reflect.ownKeys(s).forEach(p=>{const g=Reflect.get(s,p);Ot.has(g)?(Se(g,!1),h[p]=g):g instanceof Promise?Object.defineProperty(h,p,{get(){return u(g)}}):ot.has(g)?h[p]=lt(g,u):h[p]=g}),Object.freeze(h)},l=new WeakMap,r=[1,1],a=s=>{if(!qt(s))throw new Error("object required");const f=l.get(s);if(f)return f;let u=r[0];const d=new Set,h=(O,w=++r[0])=>{u!==w&&(u=w,d.forEach(E=>E(O,w)))};let p=r[1];const g=(O=++r[1])=>(p!==O&&!d.size&&(p=O,y.forEach(([w])=>{const E=w[1](O);E>u&&(u=E)})),u),v=O=>(w,E)=>{const A=[...w];A[1]=[O,...A[1]],h(A,E)},y=new Map,b=(O,w)=>{if(d.size){const E=w[3](v(O));y.set(O,[w,E])}else y.set(O,[w])},x=O=>{var E;const w=y.get(O);w&&(y.delete(O),(E=w[1])==null||E.call(w))},S=O=>(d.add(O),d.size===1&&y.forEach(([E,A],D)=>{const T=E[3](v(D));y.set(D,[E,T])}),()=>{d.delete(O),d.size===0&&y.forEach(([E,A],D)=>{A&&(A(),y.set(D,[E]))})}),P=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s)),M=e(P,{deleteProperty(O,w){const E=Reflect.get(O,w);x(w);const A=Reflect.deleteProperty(O,w);return A&&h(["delete",[w],E]),A},set(O,w,E,A){var I;const D=Reflect.has(O,w),T=Reflect.get(O,w,A);if(D&&(t(T,E)||l.has(E)&&t(T,l.get(E))))return!0;x(w),qt(E)&&(E=vi(E)||E);let F=E;if(!((I=Object.getOwnPropertyDescriptor(O,w))!=null&&I.set))if(E instanceof Promise)E.then(R=>{Object.assign(E,{status:"fulfilled",value:R}),h(["resolve",[w],R])}).catch(R=>{Object.assign(E,{status:"rejected",reason:R}),h(["reject",[w],R])});else{!ot.has(E)&&n(E)&&(F=Ft(E));const R=!Ot.has(F)&&ot.get(F);R&&b(w,R)}return Reflect.set(O,w,F,A),h(["set",[w],E,T]),!0}});l.set(s,M);const V=[P,g,c,S];return ot.set(M,V),Reflect.ownKeys(s).forEach(O=>{const w=Object.getOwnPropertyDescriptor(s,O);w.get||w.set?Object.defineProperty(P,O,w):M[O]=s[O]}),M})=>[a,ot,Ot,t,e,n,i,o,c,l,r],[Si]=Pi();function Ft(t={}){return Si(t)}function ee(t,e,n){const i=ot.get(t);let o;const c=[],l=i[3];let r=!1;const s=l(f=>{if(c.push(f),n){e(c.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,r&&e(c.splice(0))}))});return r=!0,()=>{r=!1,s()}}function lt(t,e){const n=ot.get(t),[i,o,c]=n;return c(i,o(),e)}function Ae(t){return Ot.add(t),t}function Ai(t,e){Object.keys(e).forEach(o=>{if(Object.getOwnPropertyDescriptor(t,o))throw new Error("object property already defined");const c=e[o],{get:l,set:r}=typeof c=="function"?{get:c}:c,a={};a.get=()=>l(lt(i)),r&&(a.set=s=>r(i,s)),Object.defineProperty(t,o,a)});const i=Ft(t);return i}function Te(t,e,n){typeof n.value=="object"&&(n.value=ft(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function ft(t){if(typeof t!="object")return t;var e=0,n,i,o,c=Object.prototype.toString.call(t);if(c==="[object Object]"?o=Object.create(t.__proto__||null):c==="[object Array]"?o=Array(t.length):c==="[object Set]"?(o=new Set,t.forEach(function(l){o.add(ft(l))})):c==="[object Map]"?(o=new Map,t.forEach(function(l,r){o.set(ft(r),ft(l))})):c==="[object Date]"?o=new Date(+t):c==="[object RegExp]"?o=new RegExp(t.source,t.flags):c==="[object DataView]"?o=new t.constructor(ft(t.buffer)):c==="[object ArrayBuffer]"?o=t.slice(0):c.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)Te(o,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(o,n=i[e])&&o[n]===t[n]||Te(o,n,Object.getOwnPropertyDescriptor(t,n))}return o||t}var Ti=Object.defineProperty,Ci=(t,e,n)=>e in t?Ti(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m=(t,e,n)=>Ci(t,typeof e!="symbol"?e+"":e,n);function ln(t,...e){for(const n of e){const i=dt(n);for(const o in i)ai(n[o])?(t[o]||(t[o]={}),ln(t[o],n[o])):t[o]=n[o]}return t}function Ce(t){return ft(t)}function j(t){return k(t)?{type:t}:t}function tt(t){return t?Mt(t)?t.slice():[t]:[]}function fn(t){return Ct(t)&&t.predicate!=null}var Ri=()=>!0;function de(t,e,n,i){return o=>{var c;return k(o)?!!((c=t[o])!=null&&c.call(t,e,n,i)):Dt(o)?o(e,n,i):o.predicate(t)(e,n,i)}}function Li(...t){return{predicate:e=>(n,i,o)=>t.map(de(e,n,i,o)).some(Boolean)}}function Mi(...t){return{predicate:e=>(n,i,o)=>t.map(de(e,n,i,o)).every(Boolean)}}function Di(t){return{predicate:e=>(n,i,o)=>!de(e,n,i,o)(t)}}function Ni(...t){return(e,n,i)=>i.state.matches(...t)}var ki={or:Li,and:Mi,not:Di,stateIn:Ni};function un(t,e){return t=t??Ri,(n,i,o)=>{if(k(t)){const c=e[t];return Dt(c)?c(n,i,o):c}return fn(t)?t.predicate(e)(n,i,o):t==null?void 0:t(n,i,o)}}function Ut(t,e){return(n,i,o)=>fn(t)?t.predicate(e)(n,i,o):t}function _i(t){var c,l;const e=t.computed??q({}),n=t.context??q({}),i=t.initial?(l=(c=t.states)==null?void 0:c[t.initial])==null?void 0:l.tags:[],o=Ft({value:t.initial??"",previousValue:"",event:q({}),previousEvent:q({}),context:Ai(n,e),done:!1,tags:i??[],hasTag(r){return this.tags.includes(r)},matches(...r){return r.includes(this.value)},can(r){return q(this).nextEvents.includes(r)},get nextEvents(){var s,f;const r=((f=(s=t.states)==null?void 0:s[this.value])==null?void 0:f.on)??{},a=(t==null?void 0:t.on)??{};return Object.keys({...r,...a})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return q(o)}function yt(t,e){return(n,i)=>{if(oi(t))return t;if(Dt(t))return t(n,i);if(k(t)){const o=Number.parseFloat(t);if(!Number.isNaN(o))return o;if(e){const c=e==null?void 0:e[t];return Rt(c==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),Dt(c)?c(n,i):c}}}}function Ii(t){return k(t)?{target:t}:t}function $i(t,e){return(n,i,o)=>tt(t).map(Ii).find(c=>un(c.guard,e)(n,i,o)??c.target??c.actions)}var Vi=class{constructor(t,e){var n,i,o,c,l;m(this,"status","Not Started"),m(this,"state"),m(this,"initialState"),m(this,"initialContext"),m(this,"id"),m(this,"type","machine"),m(this,"activityEvents",new Map),m(this,"delayedEvents",new Map),m(this,"stateListeners",new Set),m(this,"doneListeners",new Set),m(this,"contextWatchers",new Set),m(this,"removeStateListener",Ue),m(this,"parent"),m(this,"children",new Map),m(this,"guardMap"),m(this,"actionMap"),m(this,"delayMap"),m(this,"activityMap"),m(this,"sync"),m(this,"options"),m(this,"config"),m(this,"_created",()=>{var a;const r=j("machine.created");this.executeActions((a=this.config)==null?void 0:a.created,r)}),m(this,"start",r=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=ee(this.state,()=>{this.stateListeners.forEach(h=>{h(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(j("machine.start"),tt(this.config.activities),"machine.start"),this.executeActions(this.config.entry,j("machine.start"));const a=j("machine.init"),s=Ct(r)?r.value:r,f=Ct(r)?r.context:void 0;f&&this.setContext(f);const u={target:s??this.config.initial},d=this.getNextStateInfo(u,a);return this.initialState=d,this.performStateChangeEffects(this.state.value,d,a),this}),m(this,"setupContextWatchers",()=>{const{watch:r}=this.config;if(!r)return;let a=lt(this.state.context);const s=ee(this.state.context,()=>{var u;const f=lt(this.state.context);for(const[d,h]of Object.entries(r))(((u=this.options.compareFns)==null?void 0:u[d])??Object.is)(a[d],f[d])||this.executeActions(h,this.state.event);a=f});this.contextWatchers.add(s)}),m(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,j("machine.stop")),this.executeActions(this.config.exit,j("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),m(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),m(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(r=>r()),this.contextWatchers.clear()}),m(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(r=>{r.forEach(a=>a())}),this.delayedEvents.clear()}),m(this,"stopActivities",r=>{var a,s;r?((a=this.activityEvents.get(r))==null||a.forEach(f=>f()),(s=this.activityEvents.get(r))==null||s.clear(),this.activityEvents.delete(r)):(this.activityEvents.forEach(f=>{f.forEach(u=>u()),f.clear()}),this.activityEvents.clear())}),m(this,"sendChild",(r,a)=>{const s=j(r),f=Jt(a,this.contextSnapshot),u=this.children.get(f);u||Rt(`[@zag-js/core] Cannot send '${s.type}' event to unknown child`),u.send(s)}),m(this,"stopChild",r=>{this.children.has(r)||Rt(`[@zag-js/core > stop-child] Cannot stop unknown child ${r}`),this.children.get(r).stop(),this.children.delete(r)}),m(this,"removeChild",r=>{this.children.delete(r)}),m(this,"stopChildren",()=>{this.children.forEach(r=>r.stop()),this.children.clear()}),m(this,"setParent",r=>{this.parent=r}),m(this,"spawn",(r,a)=>{const s=Jt(r);return a&&(s.id=a),s.type="machine.actor",s.setParent(this),this.children.set(s.id,q(s)),s.onDone(()=>{this.removeChild(s.id)}).start(),q(Ae(s))}),m(this,"stopActivity",r=>{var s;if(!this.state.value)return;const a=this.activityEvents.get(this.state.value);(s=a==null?void 0:a.get(r))==null||s(),a==null||a.delete(r)}),m(this,"addActivityCleanup",(r,a,s)=>{var f;r&&(this.activityEvents.has(r)?(f=this.activityEvents.get(r))==null||f.set(a,s):this.activityEvents.set(r,new Map([[a,s]])))}),m(this,"setState",r=>{this.state.previousValue=this.state.value,this.state.value=r;const a=this.getStateNode(r);r==null?ni(this.state.tags):this.state.tags=tt(a==null?void 0:a.tags)}),m(this,"setContext",r=>{r&&ln(this.state.context,dt(r))}),m(this,"setOptions",r=>{const a=dt(r);this.actionMap={...this.actionMap,...a.actions},this.delayMap={...this.delayMap,...a.delays},this.activityMap={...this.activityMap,...a.activities},this.guardMap={...this.guardMap,...a.guards}}),m(this,"getStateNode",r=>{var a;if(r)return(a=this.config.states)==null?void 0:a[r]}),m(this,"getNextStateInfo",(r,a)=>{const s=this.determineTransition(r,a),f=!(s!=null&&s.target),u=(s==null?void 0:s.target)??this.state.value,d=this.state.value!==u,h=this.getStateNode(u),g={reenter:!f&&!d&&!(s!=null&&s.internal),transition:s,stateNode:h,target:u,changed:d};return this.log("NextState:",`[${a.type}]`,this.state.value,"---->",g.target),g}),m(this,"getAfterActions",(r,a)=>{let s;const f=this.state.value;return{entry:()=>{s=globalThis.setTimeout(()=>{const u=this.getNextStateInfo(r,this.state.event);this.performStateChangeEffects(f,u,this.state.event)},a)},exit:()=>{globalThis.clearTimeout(s)}}}),m(this,"getDelayedEventActions",r=>{const a=this.getStateNode(r),s=this.state.event;if(!a||!a.after)return;const f=[],u=[];if(Mt(a.after)){const d=this.determineTransition(a.after,s);if(!d)return;if(!Ze(d,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(d)}`);const p=yt(d.delay,this.delayMap)(this.contextSnapshot,s),g=this.getAfterActions(d,p);return f.push(g.entry),u.push(g.exit),{entries:f,exits:u}}if(Ct(a.after))for(const d in a.after){const h=a.after[d],g=yt(d,this.delayMap)(this.contextSnapshot,s),v=this.getAfterActions(h,g);f.push(v.entry),u.push(v.exit)}return{entries:f,exits:u}}),m(this,"executeActions",(r,a)=>{var f;const s=Ut(r,this.guardMap)(this.contextSnapshot,a,this.guardMeta);for(const u of tt(s)){const d=k(u)?(f=this.actionMap)==null?void 0:f[u]:u;Yt(k(u)&&!d,`[@zag-js/core > execute-actions] No implementation found for action: \`${u}\``),d==null||d(this.state.context,a,this.meta)}}),m(this,"executeActivities",(r,a,s)=>{var f;for(const u of a){const d=k(u)?(f=this.activityMap)==null?void 0:f[u]:u;if(!d){Yt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${u}\``);continue}const h=d(this.state.context,r,this.meta);if(h){const p=k(u)?u:u.name||be();this.addActivityCleanup(s??this.state.value,p,h)}}}),m(this,"createEveryActivities",(r,a)=>{if(r)if(Mt(r)){const s=tt(r).find(h=>{const p=h.delay,v=yt(p,this.delayMap)(this.contextSnapshot,this.state.event);return un(h.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??v!=null});if(!s)return;const u=yt(s.delay,this.delayMap)(this.contextSnapshot,this.state.event);a(()=>{const h=globalThis.setInterval(()=>{this.executeActions(s.actions,this.state.event)},u);return()=>{globalThis.clearInterval(h)}})}else for(const s in r){const f=r==null?void 0:r[s],d=yt(s,this.delayMap)(this.contextSnapshot,this.state.event);a(()=>{const p=globalThis.setInterval(()=>{this.executeActions(f,this.state.event)},d);return()=>{globalThis.clearInterval(p)}})}}),m(this,"setEvent",r=>{this.state.previousEvent=this.state.event,this.state.event=Ae(j(r))}),m(this,"performExitEffects",(r,a)=>{const s=this.state.value;if(s==="")return;const f=r?this.getStateNode(r):void 0;this.stopActivities(s);const u=Ut(f==null?void 0:f.exit,this.guardMap)(this.contextSnapshot,a,this.guardMeta),d=tt(u),h=this.delayedEvents.get(s);h&&d.push(...h),this.executeActions(d,a),this.delayedEvents.delete(s)}),m(this,"performEntryEffects",(r,a)=>{const s=this.getStateNode(r),f=tt(s==null?void 0:s.activities);this.createEveryActivities(s==null?void 0:s.every,p=>{f.unshift(p)}),f.length>0&&this.executeActivities(a,f);const u=Ut(s==null?void 0:s.entry,this.guardMap)(this.contextSnapshot,a,this.guardMeta),d=tt(u),h=this.getDelayedEventActions(r);s!=null&&s.after&&h&&(this.delayedEvents.set(r,h==null?void 0:h.exits),d.push(...h.entries)),this.executeActions(d,a),(s==null?void 0:s.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(p=>{p(this.stateSnapshot)}),this.stop())}),m(this,"performTransitionEffects",(r,a)=>{const s=this.determineTransition(r,a);this.executeActions(s==null?void 0:s.actions,a)}),m(this,"performStateChangeEffects",(r,a,s)=>{this.setEvent(s);const f=a.changed||a.reenter;f&&this.performExitEffects(r,s),this.performTransitionEffects(a.transition,s),this.setState(a.target),f&&this.performEntryEffects(a.target,s)}),m(this,"determineTransition",(r,a)=>{const s=$i(r,this.guardMap);return s==null?void 0:s(this.contextSnapshot,a,this.guardMeta)}),m(this,"sendParent",r=>{var s;this.parent||Rt("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const a=j(r);(s=this.parent)==null||s.send(a)}),m(this,"log",(...r)=>{}),m(this,"send",r=>{const a=j(r);this.transition(this.state.value,a)}),m(this,"transition",(r,a)=>{var h,p;const s=k(r)?this.getStateNode(r):r==null?void 0:r.stateNode,f=j(a);if(!s&&!this.config.on){const g=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${r}, \`event\`: ${f.type}`;Yt(g);return}const u=((h=s==null?void 0:s.on)==null?void 0:h[f.type])??((p=this.config.on)==null?void 0:p[f.type]),d=this.getNextStateInfo(u,f);return this.performStateChangeEffects(this.state.value,d,f),d.stateNode}),m(this,"subscribe",r=>(this.stateListeners.add(r),this.status==="Running"&&r(this.stateSnapshot),()=>{this.stateListeners.delete(r)})),m(this,"onDone",r=>(this.doneListeners.add(r),this)),m(this,"onTransition",r=>(this.stateListeners.add(r),this.status==="Running"&&r(this.stateSnapshot),this)),this.config=Ce(t),this.options=Ce(e??{}),this.id=this.config.id??`machine-${be()}`,this.guardMap=((n=this.options)==null?void 0:n.guards)??{},this.actionMap=((i=this.options)==null?void 0:i.actions)??{},this.delayMap=((o=this.options)==null?void 0:o.delays)??{},this.activityMap=((c=this.options)==null?void 0:c.activities)??{},this.sync=((l=this.options)==null?void 0:l.sync)??!1,this.state=_i(this.config),this.initialContext=lt(this.state.context)}get stateSnapshot(){return q(lt(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var e;return((e=t.initialState)==null?void 0:e.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},Fi=(t,e)=>new Vi(t,e),ji=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),Wi=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Re=t=>{const e={};let n;for(;n=Wi.exec(t);)e[n[1]]=n[2];return e},Bi=(t,e)=>{if(k(t)){if(k(e))return`${t};${e}`;t=Re(t)}else k(e)&&(e=Re(e));return Object.assign({},t??{},e??{})};function vr(...t){let e={};for(let n of t){for(let i in e){if(i.startsWith("on")&&typeof e[i]=="function"&&typeof n[i]=="function"){e[i]=ii(n[i],e[i]);continue}if(i==="className"||i==="class"){e[i]=ji(e[i],n[i]);continue}if(i==="style"){e[i]=Bi(e[i],n[i]);continue}e[i]=n[i]!==void 0?n[i]:e[i]}for(let i in n)e[i]===void 0&&(e[i]=n[i])}return e}function wr(t){return new Proxy({},{get(){return t}})}var zi=()=>t=>Array.from(new Set(t));const Hi=["top","right","bottom","left"],et=Math.min,N=Math.max,Nt=Math.round,At=Math.floor,z=t=>({x:t,y:t}),Yi={left:"right",right:"left",bottom:"top",top:"bottom"},Ki={start:"end",end:"start"};function ne(t,e,n){return N(t,et(e,n))}function X(t,e){return typeof t=="function"?t(e):t}function Z(t){return t.split("-")[0]}function gt(t){return t.split("-")[1]}function he(t){return t==="x"?"y":"x"}function pe(t){return t==="y"?"height":"width"}function nt(t){return["top","bottom"].includes(Z(t))?"y":"x"}function ge(t){return he(nt(t))}function Gi(t,e,n){n===void 0&&(n=!1);const i=gt(t),o=ge(t),c=pe(o);let l=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(l=kt(l)),[l,kt(l)]}function qi(t){const e=kt(t);return[ie(t),e,ie(e)]}function ie(t){return t.replace(/start|end/g,e=>Ki[e])}function Ui(t,e,n){const i=["left","right"],o=["right","left"],c=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:i:e?i:o;case"left":case"right":return e?c:l;default:return[]}}function Xi(t,e,n,i){const o=gt(t);let c=Ui(Z(t),n==="start",i);return o&&(c=c.map(l=>l+"-"+o),e&&(c=c.concat(c.map(ie)))),c}function kt(t){return t.replace(/left|right|bottom|top/g,e=>Yi[e])}function Zi(t){return{top:0,right:0,bottom:0,left:0,...t}}function dn(t){return typeof t!="number"?Zi(t):{top:t,right:t,bottom:t,left:t}}function _t(t){const{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function Le(t,e,n){let{reference:i,floating:o}=t;const c=nt(e),l=ge(e),r=pe(l),a=Z(e),s=c==="y",f=i.x+i.width/2-o.width/2,u=i.y+i.height/2-o.height/2,d=i[r]/2-o[r]/2;let h;switch(a){case"top":h={x:f,y:i.y-o.height};break;case"bottom":h={x:f,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:u};break;case"left":h={x:i.x-o.width,y:u};break;default:h={x:i.x,y:i.y}}switch(gt(e)){case"start":h[l]-=d*(n&&s?-1:1);break;case"end":h[l]+=d*(n&&s?-1:1);break}return h}const Ji=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:c=[],platform:l}=n,r=c.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(e));let s=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:f,y:u}=Le(s,i,a),d=i,h={},p=0;for(let g=0;g<r.length;g++){const{name:v,fn:y}=r[g],{x:b,y:x,data:S,reset:P}=await y({x:f,y:u,initialPlacement:i,placement:d,strategy:o,middlewareData:h,rects:s,platform:l,elements:{reference:t,floating:e}});f=b??f,u=x??u,h={...h,[v]:{...h[v],...S}},P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(d=P.placement),P.rects&&(s=P.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):P.rects),{x:f,y:u}=Le(s,d,a)),g=-1)}return{x:f,y:u,placement:d,strategy:o,middlewareData:h}};async function xt(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:c,rects:l,elements:r,strategy:a}=t,{boundary:s="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:d=!1,padding:h=0}=X(e,t),p=dn(h),v=r[d?u==="floating"?"reference":"floating":u],y=_t(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(v)))==null||n?v:v.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(r.floating)),boundary:s,rootBoundary:f,strategy:a})),b=u==="floating"?{x:i,y:o,width:l.floating.width,height:l.floating.height}:l.reference,x=await(c.getOffsetParent==null?void 0:c.getOffsetParent(r.floating)),S=await(c.isElement==null?void 0:c.isElement(x))?await(c.getScale==null?void 0:c.getScale(x))||{x:1,y:1}:{x:1,y:1},P=_t(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:r,rect:b,offsetParent:x,strategy:a}):b);return{top:(y.top-P.top+p.top)/S.y,bottom:(P.bottom-y.bottom+p.bottom)/S.y,left:(y.left-P.left+p.left)/S.x,right:(P.right-y.right+p.right)/S.x}}const Qi=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:o,rects:c,platform:l,elements:r,middlewareData:a}=e,{element:s,padding:f=0}=X(t,e)||{};if(s==null)return{};const u=dn(f),d={x:n,y:i},h=ge(o),p=pe(h),g=await l.getDimensions(s),v=h==="y",y=v?"top":"left",b=v?"bottom":"right",x=v?"clientHeight":"clientWidth",S=c.reference[p]+c.reference[h]-d[h]-c.floating[p],P=d[h]-c.reference[h],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(s));let M=L?L[x]:0;(!M||!await(l.isElement==null?void 0:l.isElement(L)))&&(M=r.floating[x]||c.floating[p]);const V=S/2-P/2,O=M/2-g[p]/2-1,w=et(u[y],O),E=et(u[b],O),A=w,D=M-g[p]-E,T=M/2-g[p]/2+V,F=ne(A,T,D),I=!a.arrow&&gt(o)!=null&&T!==F&&c.reference[p]/2-(T<A?w:E)-g[p]/2<0,R=I?T<A?T-A:T-D:0;return{[h]:d[h]+R,data:{[h]:F,centerOffset:T-F-R,...I&&{alignmentOffset:R}},reset:I}}}),to=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:c,rects:l,initialPlacement:r,platform:a,elements:s}=e,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=X(t,e);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const y=Z(o),b=nt(r),x=Z(r)===r,S=await(a.isRTL==null?void 0:a.isRTL(s.floating)),P=d||(x||!g?[kt(r)]:qi(r)),L=p!=="none";!d&&L&&P.push(...Xi(r,g,p,S));const M=[r,...P],V=await xt(e,v),O=[];let w=((i=c.flip)==null?void 0:i.overflows)||[];if(f&&O.push(V[y]),u){const T=Gi(o,l,S);O.push(V[T[0]],V[T[1]])}if(w=[...w,{placement:o,overflows:O}],!O.every(T=>T<=0)){var E,A;const T=(((E=c.flip)==null?void 0:E.index)||0)+1,F=M[T];if(F)return{data:{index:T,overflows:w},reset:{placement:F}};let I=(A=w.filter(R=>R.overflows[0]<=0).sort((R,J)=>R.overflows[1]-J.overflows[1])[0])==null?void 0:A.placement;if(!I)switch(h){case"bestFit":{var D;const R=(D=w.filter(J=>{if(L){const Q=nt(J.placement);return Q===b||Q==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(Q=>Q>0).reduce((Q,Pn)=>Q+Pn,0)]).sort((J,Q)=>J[1]-Q[1])[0])==null?void 0:D[0];R&&(I=R);break}case"initialPlacement":I=r;break}if(o!==I)return{reset:{placement:I}}}return{}}}};function Me(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function De(t){return Hi.some(e=>t[e]>=0)}const eo=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=X(t,e);switch(i){case"referenceHidden":{const c=await xt(e,{...o,elementContext:"reference"}),l=Me(c,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:De(l)}}}case"escaped":{const c=await xt(e,{...o,altBoundary:!0}),l=Me(c,n.floating);return{data:{escapedOffsets:l,escaped:De(l)}}}default:return{}}}}};async function no(t,e){const{placement:n,platform:i,elements:o}=t,c=await(i.isRTL==null?void 0:i.isRTL(o.floating)),l=Z(n),r=gt(n),a=nt(n)==="y",s=["left","top"].includes(l)?-1:1,f=c&&a?-1:1,u=X(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return r&&typeof p=="number"&&(h=r==="end"?p*-1:p),a?{x:h*f,y:d*s}:{x:d*s,y:h*f}}const io=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:o,y:c,placement:l,middlewareData:r}=e,a=await no(e,t);return l===((n=r.offset)==null?void 0:n.placement)&&(i=r.arrow)!=null&&i.alignmentOffset?{}:{x:o+a.x,y:c+a.y,data:{...a,placement:l}}}}},oo=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:c=!0,crossAxis:l=!1,limiter:r={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...a}=X(t,e),s={x:n,y:i},f=await xt(e,a),u=nt(Z(o)),d=he(u);let h=s[d],p=s[u];if(c){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=h+f[v],x=h-f[y];h=ne(b,h,x)}if(l){const v=u==="y"?"top":"left",y=u==="y"?"bottom":"right",b=p+f[v],x=p-f[y];p=ne(b,p,x)}const g=r.fn({...e,[d]:h,[u]:p});return{...g,data:{x:g.x-n,y:g.y-i,enabled:{[d]:c,[u]:l}}}}}},ro=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:o,rects:c,middlewareData:l}=e,{offset:r=0,mainAxis:a=!0,crossAxis:s=!0}=X(t,e),f={x:n,y:i},u=nt(o),d=he(u);let h=f[d],p=f[u];const g=X(r,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(a){const x=d==="y"?"height":"width",S=c.reference[d]-c.floating[x]+v.mainAxis,P=c.reference[d]+c.reference[x]-v.mainAxis;h<S?h=S:h>P&&(h=P)}if(s){var y,b;const x=d==="y"?"width":"height",S=["top","left"].includes(Z(o)),P=c.reference[u]-c.floating[x]+(S&&((y=l.offset)==null?void 0:y[u])||0)+(S?0:v.crossAxis),L=c.reference[u]+c.reference[x]+(S?0:((b=l.offset)==null?void 0:b[u])||0)-(S?v.crossAxis:0);p<P?p=P:p>L&&(p=L)}return{[d]:h,[u]:p}}}},so=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:o,rects:c,platform:l,elements:r}=e,{apply:a=()=>{},...s}=X(t,e),f=await xt(e,s),u=Z(o),d=gt(o),h=nt(o)==="y",{width:p,height:g}=c.floating;let v,y;u==="top"||u==="bottom"?(v=u,y=d===(await(l.isRTL==null?void 0:l.isRTL(r.floating))?"start":"end")?"left":"right"):(y=u,v=d==="end"?"top":"bottom");const b=g-f.top-f.bottom,x=p-f.left-f.right,S=et(g-f[v],b),P=et(p-f[y],x),L=!e.middlewareData.shift;let M=S,V=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(V=x),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(M=b),L&&!d){const w=N(f.left,0),E=N(f.right,0),A=N(f.top,0),D=N(f.bottom,0);h?V=p-2*(w!==0||E!==0?w+E:N(f.left,f.right)):M=g-2*(A!==0||D!==0?A+D:N(f.top,f.bottom))}await a({...e,availableWidth:V,availableHeight:M});const O=await l.getDimensions(r.floating);return p!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function jt(){return typeof window<"u"}function mt(t){return hn(t)?(t.nodeName||"").toLowerCase():"#document"}function _(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Y(t){var e;return(e=(hn(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hn(t){return jt()?t instanceof Node||t instanceof _(t).Node:!1}function W(t){return jt()?t instanceof Element||t instanceof _(t).Element:!1}function H(t){return jt()?t instanceof HTMLElement||t instanceof _(t).HTMLElement:!1}function Ne(t){return!jt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _(t).ShadowRoot}function St(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=B(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function co(t){return["table","td","th"].includes(mt(t))}function Wt(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function me(t){const e=ye(),n=W(t)?B(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function ao(t){let e=it(t);for(;H(e)&&!ht(e);){if(me(e))return e;if(Wt(e))return null;e=it(e)}return null}function ye(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ht(t){return["html","body","#document"].includes(mt(t))}function B(t){return _(t).getComputedStyle(t)}function Bt(t){return W(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function it(t){if(mt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ne(t)&&t.host||Y(t);return Ne(e)?e.host:e}function pn(t){const e=it(t);return ht(e)?t.ownerDocument?t.ownerDocument.body:t.body:H(e)&&St(e)?e:pn(e)}function Pt(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=pn(t),c=o===((i=t.ownerDocument)==null?void 0:i.body),l=_(o);if(c){const r=oe(l);return e.concat(l,l.visualViewport||[],St(o)?o:[],r&&n?Pt(r):[])}return e.concat(o,Pt(o,[],n))}function oe(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gn(t){const e=B(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=H(t),c=o?t.offsetWidth:n,l=o?t.offsetHeight:i,r=Nt(n)!==c||Nt(i)!==l;return r&&(n=c,i=l),{width:n,height:i,$:r}}function ve(t){return W(t)?t:t.contextElement}function ut(t){const e=ve(t);if(!H(e))return z(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:c}=gn(e);let l=(c?Nt(n.width):n.width)/i,r=(c?Nt(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!r||!Number.isFinite(r))&&(r=1),{x:l,y:r}}const lo=z(0);function mn(t){const e=_(t);return!ye()||!e.visualViewport?lo:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fo(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_(t)?!1:e}function rt(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),c=ve(t);let l=z(1);e&&(i?W(i)&&(l=ut(i)):l=ut(t));const r=fo(c,n,i)?mn(c):z(0);let a=(o.left+r.x)/l.x,s=(o.top+r.y)/l.y,f=o.width/l.x,u=o.height/l.y;if(c){const d=_(c),h=i&&W(i)?_(i):i;let p=d,g=oe(p);for(;g&&i&&h!==p;){const v=ut(g),y=g.getBoundingClientRect(),b=B(g),x=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,S=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;a*=v.x,s*=v.y,f*=v.x,u*=v.y,a+=x,s+=S,p=_(g),g=oe(p)}}return _t({width:f,height:u,x:a,y:s})}function we(t,e){const n=Bt(t).scrollLeft;return e?e.left+n:rt(Y(t)).left+n}function yn(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=i.left+e.scrollLeft-(n?0:we(t,i)),c=i.top+e.scrollTop;return{x:o,y:c}}function uo(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t;const c=o==="fixed",l=Y(i),r=e?Wt(e.floating):!1;if(i===l||r&&c)return n;let a={scrollLeft:0,scrollTop:0},s=z(1);const f=z(0),u=H(i);if((u||!u&&!c)&&((mt(i)!=="body"||St(l))&&(a=Bt(i)),H(i))){const h=rt(i);s=ut(i),f.x=h.x+i.clientLeft,f.y=h.y+i.clientTop}const d=l&&!u&&!c?yn(l,a,!0):z(0);return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-a.scrollLeft*s.x+f.x+d.x,y:n.y*s.y-a.scrollTop*s.y+f.y+d.y}}function ho(t){return Array.from(t.getClientRects())}function po(t){const e=Y(t),n=Bt(t),i=t.ownerDocument.body,o=N(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),c=N(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+we(t);const r=-n.scrollTop;return B(i).direction==="rtl"&&(l+=N(e.clientWidth,i.clientWidth)-o),{width:o,height:c,x:l,y:r}}function go(t,e){const n=_(t),i=Y(t),o=n.visualViewport;let c=i.clientWidth,l=i.clientHeight,r=0,a=0;if(o){c=o.width,l=o.height;const s=ye();(!s||s&&e==="fixed")&&(r=o.offsetLeft,a=o.offsetTop)}return{width:c,height:l,x:r,y:a}}function mo(t,e){const n=rt(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,c=H(t)?ut(t):z(1),l=t.clientWidth*c.x,r=t.clientHeight*c.y,a=o*c.x,s=i*c.y;return{width:l,height:r,x:a,y:s}}function ke(t,e,n){let i;if(e==="viewport")i=go(t,n);else if(e==="document")i=po(Y(t));else if(W(e))i=mo(e,n);else{const o=mn(t);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return _t(i)}function vn(t,e){const n=it(t);return n===e||!W(n)||ht(n)?!1:B(n).position==="fixed"||vn(n,e)}function yo(t,e){const n=e.get(t);if(n)return n;let i=Pt(t,[],!1).filter(r=>W(r)&&mt(r)!=="body"),o=null;const c=B(t).position==="fixed";let l=c?it(t):t;for(;W(l)&&!ht(l);){const r=B(l),a=me(l);!a&&r.position==="fixed"&&(o=null),(c?!a&&!o:!a&&r.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||St(l)&&!a&&vn(t,l))?i=i.filter(f=>f!==l):o=r,l=it(l)}return e.set(t,i),i}function vo(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const l=[...n==="clippingAncestors"?Wt(e)?[]:yo(e,this._c):[].concat(n),i],r=l[0],a=l.reduce((s,f)=>{const u=ke(e,f,o);return s.top=N(u.top,s.top),s.right=et(u.right,s.right),s.bottom=et(u.bottom,s.bottom),s.left=N(u.left,s.left),s},ke(e,r,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function wo(t){const{width:e,height:n}=gn(t);return{width:e,height:n}}function Eo(t,e,n){const i=H(e),o=Y(e),c=n==="fixed",l=rt(t,!0,c,e);let r={scrollLeft:0,scrollTop:0};const a=z(0);if(i||!i&&!c)if((mt(e)!=="body"||St(o))&&(r=Bt(e)),i){const d=rt(e,!0,c,e);a.x=d.x+e.clientLeft,a.y=d.y+e.clientTop}else o&&(a.x=we(o));const s=o&&!i&&!c?yn(o,r):z(0),f=l.left+r.scrollLeft-a.x-s.x,u=l.top+r.scrollTop-a.y-s.y;return{x:f,y:u,width:l.width,height:l.height}}function Xt(t){return B(t).position==="static"}function _e(t,e){if(!H(t)||B(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Y(t)===n&&(n=n.ownerDocument.body),n}function wn(t,e){const n=_(t);if(Wt(t))return n;if(!H(t)){let o=it(t);for(;o&&!ht(o);){if(W(o)&&!Xt(o))return o;o=it(o)}return n}let i=_e(t,e);for(;i&&co(i)&&Xt(i);)i=_e(i,e);return i&&ht(i)&&Xt(i)&&!me(i)?n:i||ao(t)||n}const Oo=async function(t){const e=this.getOffsetParent||wn,n=this.getDimensions,i=await n(t.floating);return{reference:Eo(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function bo(t){return B(t).direction==="rtl"}const xo={convertOffsetParentRelativeRectToViewportRelativeRect:uo,getDocumentElement:Y,getClippingRect:vo,getOffsetParent:wn,getElementRects:Oo,getClientRects:ho,getDimensions:wo,getScale:ut,isElement:W,isRTL:bo};function Po(t,e){let n=null,i;const o=Y(t);function c(){var r;clearTimeout(i),(r=n)==null||r.disconnect(),n=null}function l(r,a){r===void 0&&(r=!1),a===void 0&&(a=1),c();const{left:s,top:f,width:u,height:d}=t.getBoundingClientRect();if(r||e(),!u||!d)return;const h=At(f),p=At(o.clientWidth-(s+u)),g=At(o.clientHeight-(f+d)),v=At(s),b={rootMargin:-h+"px "+-p+"px "+-g+"px "+-v+"px",threshold:N(0,et(1,a))||1};let x=!0;function S(P){const L=P[0].intersectionRatio;if(L!==a){if(!x)return l();L?l(!1,L):i=setTimeout(()=>{l(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(S,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(t)}return l(!0),c}function So(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:a=!1}=i,s=ve(t),f=o||c?[...s?Pt(s):[],...Pt(e)]:[];f.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),c&&y.addEventListener("resize",n)});const u=s&&r?Po(s,n):null;let d=-1,h=null;l&&(h=new ResizeObserver(y=>{let[b]=y;b&&b.target===s&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(e)})),n()}),s&&!a&&h.observe(s),h.observe(e));let p,g=a?rt(t):null;a&&v();function v(){const y=rt(t);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,p=requestAnimationFrame(v)}return n(),()=>{var y;f.forEach(b=>{o&&b.removeEventListener("scroll",n),c&&b.removeEventListener("resize",n)}),u==null||u(),(y=h)==null||y.disconnect(),h=null,a&&cancelAnimationFrame(p)}}const Ao=io,To=oo,Co=to,Ro=so,Lo=eo,Mo=Qi,Do=ro,No=(t,e,n)=>{const i=new Map,o={platform:xo,...n},c={...o.platform,_c:i};return Ji(t,e,{...o,platform:c})};function Ie(t=0,e=0,n=0,i=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,i);const o={x:t,y:e,width:n,height:i,top:e,right:t+n,bottom:e+i,left:t};return{...o,toJSON:()=>o}}function ko(t){if(!t)return Ie();const{x:e,y:n,width:i,height:o}=t;return Ie(e,n,i,o)}function _o(t,e){return{contextElement:Vt(t)?t:void 0,getBoundingClientRect:()=>{const n=t,i=e==null?void 0:e(n);return i||!n?ko(i):n.getBoundingClientRect()}}}var vt=t=>({variable:t,reference:`var(${t})`}),K={arrowSize:vt("--arrow-size"),arrowSizeHalf:vt("--arrow-size-half"),arrowBg:vt("--arrow-background"),transformOrigin:vt("--transform-origin"),arrowOffset:vt("--arrow-offset")},Io=t=>({top:"bottom center","top-start":t?`${t.x}px bottom`:"left bottom","top-end":t?`${t.x}px bottom`:"right bottom",bottom:"top center","bottom-start":t?`${t.x}px top`:"top left","bottom-end":t?`${t.x}px top`:"top right",left:"right center","left-start":t?`right ${t.y}px`:"right top","left-end":t?`right ${t.y}px`:"right bottom",right:"left center","right-start":t?`left ${t.y}px`:"left top","right-end":t?`left ${t.y}px`:"left bottom"}),$o={name:"transformOrigin",fn({placement:t,elements:e,middlewareData:n}){const{arrow:i}=n,o=Io(i)[t],{floating:c}=e;return c.style.setProperty(K.transformOrigin.variable,o),{data:{transformOrigin:o}}}},Vo={name:"rects",fn({rects:t}){return{data:t}}},Fo=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:i,y:o}=n.arrow,c=e.split("-")[0];return Object.assign(t.style,{left:i!=null?`${i}px`:"",top:o!=null?`${o}px`:"",[c]:`calc(100% + ${K.arrowOffset.reference})`}),{}}}};function jo(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}var Wo={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function $e(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function En(t){return Jt(t.boundary)}function Bo(t,e){if(t)return Mo({element:t,padding:e.arrowPadding})}function zo(t,e){if(!ri(e.offset??e.gutter))return Ao(({placement:n})=>{var s,f;const i=((t==null?void 0:t.clientHeight)||0)/2,o=((s=e.offset)==null?void 0:s.mainAxis)??e.gutter,c=typeof o=="number"?o+i:o??i,{hasAlign:l}=jo(n),r=l?void 0:e.shift,a=((f=e.offset)==null?void 0:f.crossAxis)??r;return dt({crossAxis:a,mainAxis:c,alignmentAxis:e.shift})})}function Ho(t){if(t.flip)return Co({boundary:En(t),padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function Yo(t){if(!(!t.slide&&!t.overlap))return To({boundary:En(t),mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:Do()})}function Ko(t){return Ro({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:i,availableWidth:o}){const c=e.floating,l=Math.round(n.reference.width);o=Math.floor(o),i=Math.floor(i),c.style.setProperty("--reference-width",`${l}px`),c.style.setProperty("--available-width",`${o}px`),c.style.setProperty("--available-height",`${i}px`)}})}function Go(t){var e;if(t.hideWhenDetached)return Lo({strategy:"referenceHidden",boundary:((e=t.boundary)==null?void 0:e.call(t))??"clippingAncestors"})}function qo(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function Uo(t,e,n={}){const i=_o(t,n.getAnchorRect);if(!e||!i)return;const o=Object.assign({},Wo,n),c=e.querySelector("[data-part=arrow]"),l=[zo(c,o),Ho(o),Yo(o),Bo(c,o),Fo(c),$o,Ko(o),Go(o),Vo],{placement:r,strategy:a,onComplete:s,onPositioned:f}=o,u=async()=>{var S;if(!i||!e)return;const g=await No(i,e,{placement:r,middleware:l,strategy:a});s==null||s(g),f==null||f({placed:!0});const v=U(e),y=$e(v,g.x),b=$e(v,g.y);e.style.setProperty("--x",`${y}px`),e.style.setProperty("--y",`${b}px`),o.hideWhenDetached&&((S=g.middlewareData.hide)!=null&&S.referenceHidden)&&e.style.setProperty("visibility","hidden");const x=e.firstElementChild;if(x){const P=v.getComputedStyle(x).zIndex;e.style.setProperty("--z-index",P)}},d=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:u}),f==null||f({placed:!0})):await u()},h=qo(o.listeners),p=o.listeners?So(i,e,d,h):Ue;return d(),()=>{p==null||p(),f==null||f({placed:!1})}}function Ve(t,e,n={}){const{defer:i,...o}=n,c=i?Qn:r=>r(),l=[];return l.push(c(()=>{const r=typeof t=="function"?t():t,a=typeof e=="function"?e():e;l.push(Uo(r,a,o))})),()=>{l.forEach(r=>r==null?void 0:r())}}var Xo={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Zo(t={}){const{placement:e,sameWidth:n,fitViewport:i,strategy:o="absolute"}=t;return{arrow:{position:"absolute",width:K.arrowSize.reference,height:K.arrowSize.reference,[K.arrowSizeHalf.variable]:`calc(${K.arrowSize.reference} / 2)`,[K.arrowOffset.variable]:`calc(${K.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?Xo[e.split("-")[0]]:void 0,background:K.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:o,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:i?"var(--available-width)":void 0,maxHeight:i?"var(--available-height)":void 0,top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function Jo(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function Qo(t){return!(t.metaKey||!In()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var tr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function er(t,e,n){const i=n?He(n):null,o=U(i);return t=t||i instanceof o.HTMLInputElement&&!tr.has(i==null?void 0:i.type)||i instanceof o.HTMLTextAreaElement||i instanceof o.HTMLElement&&i.isContentEditable,!(t&&e==="keyboard"&&n instanceof o.KeyboardEvent&&!Reflect.has(nr,n.key))}var ct=null,re=new Set,bt=new Map,st=!1,se=!1,nr={Tab:!0,Escape:!0};function zt(t,e){for(let n of re)n(t,e)}function It(t){st=!0,Qo(t)&&(ct="keyboard",zt("keyboard",t))}function $(t){ct="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(st=!0,zt("pointer",t))}function On(t){Jo(t)&&(st=!0,ct="virtual")}function bn(t){const e=He(t);e===U(e)||e===pt(e)||(!st&&!se&&(ct="virtual",zt("virtual",t)),st=!1,se=!1)}function xn(){st=!1,se=!0}function ir(t){if(typeof window>"u"||bt.get(U(t)))return;const e=U(t),n=pt(t);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){ct="virtual",zt("virtual",null),st=!0,i.apply(this,arguments)},n.addEventListener("keydown",It,!0),n.addEventListener("keyup",It,!0),n.addEventListener("click",On,!0),e.addEventListener("focus",bn,!0),e.addEventListener("blur",xn,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",$,!0),n.addEventListener("pointermove",$,!0),n.addEventListener("pointerup",$,!0)):(n.addEventListener("mousedown",$,!0),n.addEventListener("mousemove",$,!0),n.addEventListener("mouseup",$,!0)),e.addEventListener("beforeunload",()=>{or(t)},{once:!0}),bt.set(e,{focus:i})}var or=(t,e)=>{const n=U(t),i=pt(t);bt.has(n)&&(n.HTMLElement.prototype.focus=bt.get(n).focus,i.removeEventListener("keydown",It,!0),i.removeEventListener("keyup",It,!0),i.removeEventListener("click",On,!0),n.removeEventListener("focus",bn,!0),n.removeEventListener("blur",xn,!1),typeof n.PointerEvent<"u"?(i.removeEventListener("pointerdown",$,!0),i.removeEventListener("pointermove",$,!0),i.removeEventListener("pointerup",$,!0)):(i.removeEventListener("mousedown",$,!0),i.removeEventListener("mousemove",$,!0),i.removeEventListener("mouseup",$,!0)),bt.delete(n))};function ce(){return ct==="keyboard"}function rr(t={}){const{isTextInput:e,autoFocus:n,onChange:i,root:o}=t;ir(o),i==null||i({isFocusVisible:n||ce(),modality:ct});const c=(l,r)=>{er(!!e,l,r)&&(i==null||i({isFocusVisible:ce(),modality:l}))};return re.add(c),()=>{re.delete(c)}}var sr=Tt("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),wt=sr.build(),C=ti({getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`tooltip:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`tooltip:${t.id}:content`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`tooltip:${t.id}:arrow`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`tooltip:${t.id}:popper`},getTriggerEl:t=>C.getById(t,C.getTriggerId(t)),getContentEl:t=>C.getById(t,C.getContentId(t)),getPositionerEl:t=>C.getById(t,C.getPositionerId(t)),getArrowEl:t=>C.getById(t,C.getArrowId(t))}),G=Ft({id:null,prevId:null,setId(t){this.prevId=this.id,this.id=t}});function Er(t,e,n){const i=t.context.id,o=t.context.hasAriaLabel,c=t.hasTag("open"),l=C.getTriggerId(t.context),r=C.getContentId(t.context),a=t.context.disabled,s=Zo({...t.context.positioning,placement:t.context.currentPlacement});return{open:c,setOpen(f){f!==c&&e(f?"OPEN":"CLOSE")},reposition(f={}){e({type:"POSITIONING.SET",options:f})},getTriggerProps(){return n.button({...wt.trigger.attrs,id:l,dir:t.context.dir,"data-expanded":Sn(c),"data-state":c?"open":"closed","aria-describedby":c?r:void 0,onClick(f){f.defaultPrevented||a||t.context.closeOnClick&&e({type:"CLOSE",src:"trigger.click"})},onFocus(f){f.defaultPrevented||a||t.event.src!=="trigger.pointerdown"&&ce()&&e({type:"OPEN",src:"trigger.focus"})},onBlur(f){f.defaultPrevented||a||i===G.id&&e({type:"CLOSE",src:"trigger.blur"})},onPointerDown(f){f.defaultPrevented||a||t.context.closeOnPointerDown&&i===G.id&&e({type:"CLOSE",src:"trigger.pointerdown"})},onPointerMove(f){f.defaultPrevented||a||f.pointerType!=="touch"&&e("POINTER_MOVE")},onPointerLeave(){a||e("POINTER_LEAVE")},onPointerCancel(){a||e("POINTER_LEAVE")}})},getArrowProps(){return n.element({id:C.getArrowId(t.context),...wt.arrow.attrs,dir:t.context.dir,style:s.arrow})},getArrowTipProps(){return n.element({...wt.arrowTip.attrs,dir:t.context.dir,style:s.arrowTip})},getPositionerProps(){return n.element({id:C.getPositionerId(t.context),...wt.positioner.attrs,dir:t.context.dir,style:s.floating})},getContentProps(){return n.element({...wt.content.attrs,dir:t.context.dir,hidden:!c,"data-state":c?"open":"closed",role:o?void 0:"tooltip",id:o?void 0:r,"data-placement":t.context.currentPlacement,onPointerEnter(){e("CONTENT.POINTER_MOVE")},onPointerLeave(){e("CONTENT.POINTER_LEAVE")},style:{pointerEvents:t.context.interactive?"auto":"none"}})}}}var{and:cr,not:Fe}=ki;function Or(t){const e=dt(t);return Fi({id:"tooltip",initial:e.open?"open":"closed",activities:["trackFocusVisible"],context:{openDelay:1e3,closeDelay:500,closeOnPointerDown:!0,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,closeOnClick:!0,...e,currentPlacement:void 0,hasPointerMoveOpened:!1,positioning:{placement:"bottom",...e.positioning}},computed:{hasAriaLabel:n=>!!n["aria-label"]},watch:{disabled:["closeIfDisabled"],open:["toggleVisibility"]},states:{closed:{tags:["closed"],entry:["clearGlobalId"],on:{"CONTROLLED.OPEN":"open",OPEN:{target:"open",actions:["invokeOnOpen"]},POINTER_LEAVE:{actions:["clearPointerMoveOpened"]},POINTER_MOVE:[{guard:cr("noVisibleTooltip",Fe("hasPointerMoveOpened")),target:"opening"},{guard:Fe("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{tags:["closed"],activities:["trackScroll","trackPointerlockChange"],after:{OPEN_DELAY:[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],POINTER_LEAVE:[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],CLOSE:{target:"closed",actions:["invokeOnClose"]}}},open:{tags:["open"],activities:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"CONTROLLED.CLOSE":"closed",CLOSE:{target:"closed",actions:["invokeOnClose"]},POINTER_LEAVE:[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"CONTENT.POINTER_LEAVE":{guard:"isInteractive",target:"closing"},"POSITIONING.SET":{actions:"reposition"}}},closing:{tags:["open"],activities:["trackStore","trackPositioning"],after:{CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]},on:{"CONTROLLED.CLOSE":"closed","CONTROLLED.OPEN":"open",CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],POINTER_MOVE:[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"CONTENT.POINTER_MOVE":{guard:"isInteractive",target:"open"},"POSITIONING.SET":{actions:"reposition"}}}}},{activities:{trackFocusVisible(n){return rr({root:C.getRootNode(n)})},trackPositioning(n){n.currentPlacement=n.positioning.placement;const i=()=>C.getPositionerEl(n);return Ve(C.getTriggerEl(n),i,{...n.positioning,defer:!0,onComplete(o){n.currentPlacement=o.placement}})},trackPointerlockChange(n,i,{send:o}){const c=()=>o({type:"CLOSE",src:"pointerlock:change"});return Ht(C.getDoc(n),"pointerlockchange",c,!1)},trackScroll(n,i,{send:o}){if(!n.closeOnScroll)return;const c=C.getTriggerEl(n);if(!c)return;const r=qe(c).map(a=>Ht(a,"scroll",()=>{o({type:"CLOSE",src:"scroll"})},{passive:!0,capture:!0}));return()=>{r.forEach(a=>a==null?void 0:a())}},trackStore(n,i,{send:o}){return ee(G,()=>{G.id!==n.id&&o({type:"CLOSE",src:"id.change"})})},trackEscapeKey(n,i,{send:o}){if(!n.closeOnEscape)return;const c=l=>{Fn(l)||l.key==="Escape"&&(l.stopPropagation(),o({type:"CLOSE",src:"keydown.escape"}))};return Ht(C.getDoc(n),"keydown",c,!0)}},actions:{setGlobalId(n){G.setId(n.id)},clearGlobalId(n){n.id===G.id&&G.setId(null)},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},closeIfDisabled(n,i,{send:o}){n.disabled&&o({type:"CLOSE",src:"disabled.change"})},reposition(n,i){const o=()=>C.getPositionerEl(n);Ve(C.getTriggerEl(n),o,{...n.positioning,...i.options,defer:!0,listeners:!1,onComplete(c){n.currentPlacement=c.placement}})},toggleVisibility(n,i,{send:o}){o({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})},setPointerMoveOpened(n){n.hasPointerMoveOpened=!0},clearPointerMoveOpened(n){n.hasPointerMoveOpened=!1}},guards:{noVisibleTooltip:()=>G.id===null,isVisible:n=>n.id===G.id,isInteractive:n=>n.interactive,hasPointerMoveOpened:n=>!!n.hasPointerMoveOpened,isOpenControlled:n=>!!n["open.controlled"]},delays:{OPEN_DELAY:n=>n.openDelay,CLOSE_DELAY:n=>n.closeDelay}})}zi()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","open.controlled","open","openDelay","positioning"]);export{Zt as A,pt as B,ar as M,ti as a,zi as b,Tt as c,dr as d,Zn as e,mr as f,gr as g,pr as h,Vt as i,lr as j,sr as k,yr as l,wr as m,fr as n,an as o,ur as p,hr as q,lt as r,ee as s,yi as t,gi as u,vr as v,Fi as w,Ae as x,Or as y,Er as z};
