import{u as S,m as C,f as W,B as j}from"./iconBase-Beu9WE9T.js";import{r as A,n as e,L as I}from"./chunk-K6AXKMTT-YwewBSBh.js";import{G as F,l as D,m as U,k as E,B as o,n as M,F as c,H as h,o as w,T as s,p as b,q as G,J as L,f as p,g as k,r as $,i as z,b as B,c as O,d as P,C as N,L as Y,s as Z}from"./getData-p7uX6C83.js";const T=A.forwardRef(function(i,r){const{columns:m,minChildWidth:g,...d}=i,a=S(),x=g?J(g,a):q(m);return e.jsx(F,{ref:r,templateColumns:x,...d})});function H(n){return typeof n=="number"?`${n}px`:n}function J(n,i){return C(n,r=>{const m=i.tokens.getVar(`sizes.${r}`,H(r));return r===null?null:`repeat(auto-fit, minmax(${m}, 1fr))`})}function q(n){return C(n,i=>i===null?null:`repeat(${i}, minmax(0, 1fr))`)}const V={...B,...O,...P,...N,...Y},K={features:"purple",formats:"blue",languages:"green",communities:"orange",type:"cyan"},v=(n,i)=>{const r=new Date(n),m=Intl.DateTimeFormat().resolvedOptions().timeZone,g=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",timeZone:i,hour12:!0}),d=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",timeZone:m,hour12:!0}),a=g.format(r),x=d.format(r);return{originalTime:a,userTime:x,originalTimezone:i,userTimezone:m}},f=n=>new Date(n).toLocaleString(void 0,{weekday:"long"}),R=n=>V[n]||n;async function oe({params:n}){const i=await D(n.slug),r=await U(`${n.slug}/related-group-info`);return console.log("meeting",i),console.log("group",r),{meeting:i,group:r}}function Q({meeting:n}){const i=v(n.timeUTC,n.timezone);return e.jsxs(o,{children:[e.jsxs(c,{justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",mb:2,children:[e.jsxs(o,{children:[e.jsx(h,{size:"sm",color:"gray.700",_dark:{color:"gray.300"},children:n.name}),e.jsxs(c,{align:"center",mt:1,children:[e.jsx(o,{mr:2,color:"gray.600",_dark:{color:"gray.400"},children:e.jsx(w,{})}),e.jsxs(s,{color:"gray.600",_dark:{color:"gray.400"},children:[f(n.timeUTC)," at ",i.originalTime," (",i.originalTimezone.replace("_"," "),")"]})]}),e.jsxs(c,{align:"center",mt:1,children:[e.jsx(o,{mr:2,color:"gray.600",_dark:{color:"gray.400"},children:e.jsx(b,{})}),e.jsxs(s,{color:"gray.600",_dark:{color:"gray.400"},children:["Your local time: ",i.userTime," (",i.userTimezone,")"]})]})]}),e.jsxs(j,{colorScheme:"green",variant:"outline",size:"sm",mt:{base:2,md:0},children:[e.jsx(Z,{style:{marginRight:"8px"}})," Add to Calendar"]})]}),n.formats.length>0&&e.jsx(c,{flexWrap:"wrap",gap:1,mt:2,children:n.formats.map(r=>e.jsx(z,{colorScheme:"blue",variant:"subtle",px:2,py:1,borderRadius:"full",mr:1,mb:1,children:R(r)},r))})]})}const ne=W(function({loaderData:i}){const{meeting:r,group:m}=i,{groupMeetings:g,groupInfo:d}=m,a=v(r.timeUTC,r.timezone),x=["features","formats","languages","communities","type"],y=r.groupWebsite;return g.sort((l,t)=>l.timeUTC.localeCompare(t.timeUTC)),e.jsxs(E,{children:[e.jsx(o,{mb:4,children:e.jsx(I,{to:"/",children:e.jsxs(j,{size:"sm",variant:"outline",colorScheme:"blue",children:[e.jsx(M,{style:{marginRight:"8px"}}),"Back to Meetings"]})})}),e.jsx(o,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",mb:6,bg:"white",_dark:{bg:"gray.800",borderColor:"whiteAlpha.300"},boxShadow:"md",children:e.jsx(o,{bg:"blue.50",_dark:{bg:"blue.900"},p:4,children:e.jsxs(c,{justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",children:[e.jsxs(o,{children:[e.jsx(h,{size:"lg",color:"blue.600",_dark:{color:"blue.300"},children:r.name}),e.jsxs(c,{align:"center",mt:2,children:[e.jsx(o,{mr:2,color:"gray.600",_dark:{color:"gray.400"},children:e.jsx(w,{})}),e.jsxs(s,{color:"gray.600",_dark:{color:"gray.400"},fontWeight:"medium",children:[f(r.timeUTC)," at ",a.originalTime," (",a.originalTimezone.replace("_"," "),")"]})]}),e.jsxs(c,{align:"center",mt:1,children:[e.jsx(o,{mr:2,color:"gray.600",_dark:{color:"gray.400"},children:e.jsx(b,{})}),e.jsxs(s,{color:"gray.600",_dark:{color:"gray.400"},children:["Your local time: ",a.userTime," (",a.userTimezone,")"]})]}),e.jsxs(c,{align:"center",mt:1,children:[e.jsx(o,{mr:2,color:"gray.600",_dark:{color:"gray.400"},children:e.jsx(G,{})}),e.jsxs(s,{color:"gray.600",_dark:{color:"gray.400"},children:[r.duration," minutes"]})]})]}),e.jsxs(o,{mt:{base:4,md:0},children:[r.conference_url&&e.jsx(o,{as:"span",display:"inline-block",mr:2,verticalAlign:"middle",children:e.jsx(L,{joinUrl:r.conference_url})}),y&&e.jsx(p,{href:y,target:"_blank",rel:"noopener noreferrer",_hover:{textDecoration:"none"},display:"inline-block",mr:2,children:e.jsxs(j,{bg:"purple.600",color:"white",_hover:{bg:"purple.700"},_dark:{bg:"purple.600",_hover:{bg:"purple.700"}},size:"md",children:[e.jsx(b,{style:{marginRight:"8px"}}),"Website"]})}),r.groupEmail&&e.jsx(p,{href:`mailto:${r.groupEmail}`,_hover:{textDecoration:"none"},display:"inline-block",children:e.jsxs(j,{bg:"teal.600",color:"white",_hover:{bg:"teal.700"},_dark:{bg:"teal.600",_hover:{bg:"teal.700"}},size:"md",children:[e.jsx(k,{style:{marginRight:"8px"}}),"Email"]})})]})]})})}),e.jsxs(o,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",bg:"white",mb:6,_dark:{bg:"gray.800",borderColor:"whiteAlpha.300"},boxShadow:"sm",children:[e.jsx(o,{p:4,bg:"gray.50",_dark:{bg:"gray.700"},children:e.jsx(h,{size:"sm",mb:0,children:"Meeting Details"})}),e.jsxs(o,{p:6,children:[e.jsxs(o,{mb:6,children:[e.jsxs(h,{size:"sm",mb:3,display:"flex",alignItems:"center",children:[e.jsx(o,{as:"span",mr:2,children:e.jsx($,{})}),"Meeting Categories"]}),e.jsx(T,{columns:{base:1,md:2},gap:4,children:x.map(l=>{const t=r[l],_=Array.isArray(t)?t:[t];return _.length===0?null:e.jsxs(o,{children:[e.jsxs(s,{fontWeight:"bold",mb:2,textTransform:"capitalize",children:[l,":"]}),e.jsx(c,{flexWrap:"wrap",gap:2,children:_.filter(u=>typeof u=="string").map(u=>e.jsx(z,{colorScheme:K[l],variant:"subtle",px:2,py:1,borderRadius:"full",children:R(u)},`${l}-${u}`))})]},l)})})]}),e.jsxs(T,{columns:{base:1,md:2},gap:4,mb:6,children:[e.jsxs(o,{children:[e.jsx(s,{fontWeight:"bold",children:"Meeting ID"}),e.jsx(s,{children:r.slug})]}),r.group_id&&e.jsxs(o,{children:[e.jsx(s,{fontWeight:"bold",children:"Group ID"}),e.jsx(s,{children:r.group_id})]}),e.jsxs(o,{children:[e.jsx(s,{fontWeight:"bold",children:"Day"}),e.jsx(s,{children:f(r.timeUTC)})]}),e.jsxs(o,{children:[e.jsx(s,{fontWeight:"bold",children:"Meeting Time"}),e.jsxs(s,{children:[a.originalTime," (",a.originalTimezone.replace("_"," "),")"]})]}),e.jsxs(o,{children:[e.jsx(s,{fontWeight:"bold",children:"Your Local Time"}),e.jsxs(s,{children:[a.userTime," (",a.userTimezone,")"]})]}),r.conference_provider&&e.jsxs(o,{children:[e.jsx(s,{fontWeight:"bold",children:"Conference Provider"}),e.jsx(s,{children:r.conference_provider})]})]}),r.notes&&e.jsxs(o,{mb:6,children:[e.jsx(h,{size:"sm",mb:3,children:"About This Group"}),e.jsx(o,{p:4,bg:"gray.50",_dark:{bg:"gray.700"},borderRadius:"md",children:(Array.isArray(r.notes)?r.notes:r.notes.split(`
`)).map((l,t)=>e.jsx(s,{color:"gray.700",_dark:{color:"gray.300"},mb:2,children:l},t))})]}),d.notes&&e.jsxs(o,{mt:4,children:[e.jsx(s,{fontWeight:"bold",mb:2,children:"Group Notes"}),e.jsx(o,{p:4,bg:"gray.50",_dark:{bg:"gray.700"},borderRadius:"md",children:d.notes.split(`
`).map((l,t)=>e.jsx(s,{mb:2,children:l},t))})]})]})]}),e.jsxs(o,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",mb:6,bg:"white",_dark:{bg:"gray.800",borderColor:"whiteAlpha.300"},boxShadow:"md",children:[e.jsxs(o,{bg:"blue.50",_dark:{bg:"blue.900"},p:4,children:[e.jsxs(h,{size:"md",color:"blue.600",_dark:{color:"blue.300"},children:[d.name," - All Meetings"]}),d.email&&e.jsxs(c,{align:"center",mt:2,children:[e.jsx(o,{mr:2,color:"gray.600",_dark:{color:"gray.400"},children:e.jsx(k,{})}),e.jsx(p,{href:`mailto:${d.email}`,color:"gray.600",_dark:{color:"gray.400"},children:d.email})]})]}),e.jsx(o,{p:6,children:e.jsx(c,{direction:"column",gap:4,children:g.map((l,t)=>e.jsxs(o,{p:4,borderWidth:"1px",borderRadius:"md",borderColor:"gray.200",_dark:{borderColor:"gray.700"},_hover:{boxShadow:"sm"},children:[e.jsx(Q,{meeting:l}),t<g.length-1&&e.jsx(o,{borderBottom:"1px",borderColor:"gray.200",_dark:{borderColor:"gray.700"},mt:4})]},l.slug))})})]})]})});export{oe as clientLoader,ne as default};
